# 基于WiFi的温湿度测量与传输系统

## 项目概述
本项目旨在设计并实现一套基于WiFi技术的温湿度测量与传输系统，通过STM32微控制器采集环境温湿度数据，经ESP8266模块实现无线传输，最终在终端设备上实现数据的实时显示与记录。系统可广泛应用于智能家居、温室大棚、仓储环境监测等场景。


## 硬件设计
### 核心控制器
- **主控芯片**：STM32F103系列（支持丰富的外设接口，满足数据采集与处理需求）
- **温湿度传感器**：DHT11（低成本、高精度，适合室内环境测量）
- **无线传输模块**：ESP8266（支持WiFi协议，实现数据无线上传）
- **辅助外设**：
  - OLED显示屏（实时显示本地温湿度数据）
  - 按键模块（用于手动控制与参数配置）
  - LED指示灯（系统运行状态提示）
  - 蜂鸣器（超限报警功能）

### 硬件原理图
- 原理图文件：`WIFI.SchDoc`
- PCB设计文件：`基于WiFi的温湿度测量与传输系统-OutLine.~(4).PcbDoc`


## 软件设计
### 固件程序（STM32端）
- **开发环境**：Keil MDK 5
- **核心功能模块**：
  - `main.c`：系统主程序，负责各模块调度
  - `dht11.c`：温湿度数据采集驱动
  - `esp8266.c`：WiFi通信协议实现
  - `oled.c`：显示屏数据刷新控制
  - `usart.c`：串口通信配置（用于调试与模块交互）
- **编译输出**：`WiFi/OBJ/基于Wifi的温湿度测量与传输系统.hex`（可直接烧录到STM32芯片）

### 上位机程序
- **功能**：接收WiFi传输的温湿度数据，实现数据存储与可视化展示
- **文件位置**：`后端部分/app.py`（Python后端服务）
- **前端界面**：`后端部分/templates/index.html`（Web页面显示）


## 系统工作流程
1. 系统上电后，STM32初始化各外设模块（DHT11、ESP8266、OLED等）
2. DHT11周期性采集环境温湿度数据（默认间隔5秒）
3. 采集的数据通过OLED本地显示，并经ESP8266发送至指定WiFi网络
4. 上位机接收数据后，存储至本地文件并通过Web页面实时更新
5. 当温湿度超出预设阈值时，蜂鸣器触发报警


## 快速上手
### 硬件搭建
1. 按照原理图焊接电路，确保各模块接线正确
2. 烧录固件：将`WiFi/OBJ`目录下的`.hex`文件通过ST-Link烧录到STM32
3. 配置ESP8266：通过按键或代码预设WiFi名称与密码

### 软件运行
1. 安装Python环境（推荐3.7及以上版本）
2. 运行后端服务：
   ```bash
   cd 后端部分
   python app.py
   ```
3. 打开浏览器访问`http://localhost:5000`查看温湿度数据


## 项目结构
```
├── WIFI.SchDoc                  # 硬件原理图
├── 基于WiFi的温湿度测量与传输系统-OutLine.~(4).PcbDoc  # PCB设计文件
├── WiFi/                        # STM32固件目录
│   ├── CORE/                    # 内核相关文件
│   ├── HARDWARE/                # 硬件驱动模块
│   ├── STM32F10x_FWLib/         # STM32标准库
│   ├── SYSTEM/                  # 系统基础功能（SysTick、USART等）
│   ├── USER/                    # 主程序与工程配置
│   └── OBJ/                     # 编译输出文件
└── 后端部分/                    # 上位机程序
    ├── app.py                   # 后端服务代码
    ├── models/                  # 数据处理模块
    └── templates/               # Web前端页面
```


## 注意事项
1. ESP8266需确保与上位机处于同一WiFi网络
2. 若温湿度数据传输异常，可通过串口调试助手查看STM32输出的日志信息
3. 硬件焊接时注意STM32的供电电压（3.3V），避免因电压过高损坏芯片


## 版本历史
- v1.0 ：初始版本，实现基础温湿度采集显示与WiFi传输功能


## 联系方式
- 邮箱：pfabcdef@foxmail.com
- 项目地址：[https://github.com/PF-UI/-WIFE-.git](https://github.com/PF-UI/-WIFE-.git)
